// prisma/schema.prisma
// Define your database models
datasource db {
  provider = "postgresql"
}

generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

model Project {
  id          String   @id @default(cuid())
  slug        String   @unique
  title       String
  tag         String
  location    String
  year        String

  coverImage  String?
  excerpt     String?
  description String?

  status      ProjectStatus @default(CONCEPT)
  type        ProjectType?
  role        String?
  client      String?
  isFeatured  Boolean  @default(false)

  tools       String[]

  images      ProjectImage[]
  posts       ProjectPost[]

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model ProjectImage {
  id        String  @id @default(cuid())
  projectId String
  project   Project @relation(fields: [projectId], references: [id], onDelete: Cascade)

  url       String
  alt       String?
  caption   String?
  order     Int     @default(0)
  kind      ImageKind @default(GALLERY)

  createdAt DateTime @default(now())

  @@index([projectId])
  @@index([projectId, kind])
  @@index([projectId, order])
}

model ProjectPost {
  id        String  @id @default(cuid())
  projectId String
  project   Project @relation(fields: [projectId], references: [id], onDelete: Cascade)

  slug      String
  title     String
  content   String
  order     Int     @default(0)
  published Boolean @default(true)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([projectId, slug])
  @@index([projectId])
  @@index([projectId, published])
  @@index([projectId, order])
}

enum ProjectStatus {
  CONCEPT
  DESIGN_DEVELOPMENT
  DOCUMENTATION
  SUBMITTED
  BUILT
}

enum ProjectType {
  RESIDENTIAL
  MULTI_RESIDENTIAL
  HOSPITALITY
  RETAIL
  COMMERCIAL
  MIXED_USE
  URBAN
}

enum ImageKind {
  COVER
  GALLERY
  RENDER
  PLAN
  SECTION
  DETAIL
  BEFORE_AFTER
}

// ============================================
// CMS Models for editable site sections
// ============================================

// Singleton model for Hero section content
model HeroSection {
  id              String   @id @default("hero_singleton")
  
  // Main content
  eyebrow         String   @default("Portfolio")
  name            String   @default("Maria Lourdes Ynigo")
  tagline         String   @default("Residential and commercial design with a focus on context, light and everyday life.")
  
  // Badges/tags
  badge1          String   @default("Architect")
  badge2          String   @default("Architecture Technician")
  
  // CTA button labels
  projectsLabel   String   @default("View Projects")
  contactLabel    String   @default("Get in Touch")
  
  // Background
  backgroundImage String?
  backgroundVideo String?
  
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

// Singleton model for About Me section content
model AboutSection {
  id              String   @id @default("about_singleton")
  
  // Header
  eyebrow         String   @default("Meet the Architect")
  title           String   @default("Design with purpose, built with care")
  
  // Biography paragraphs
  paragraph1      String   @default("I'm Maria Lourdes Ynigo, an architect with over 5 years of experience creating thoughtful spaces that balance functionality, aesthetics, and human connection.")
  paragraph2      String   @default("Trained in Argentina and now based in Queensland, Australia, I bring a unique perspective to every projectâ€”combining Latin American warmth with Australian pragmatism.")
  paragraph3      String   @default("My approach is simple: listen deeply, design intentionally, and deliver spaces that feel timeless rather than trendy.")
  
  // Image
  imageUrl        String?
  imageAlt        String   @default("Maria Lourdes Ynigo")
  
  // Stats
  stat1Value      String   @default("5+")
  stat1Label      String   @default("Years of Experience")
  stat2Value      String   @default("20+")
  stat2Label      String   @default("Projects Completed")
  stat3Value      String   @default("100%")
  stat3Label      String   @default("Client Satisfaction")
  
  // CTA buttons
  cta1Label       String   @default("Download Resume")
  cta1Url         String   @default("#")
  cta2Label       String   @default("View LinkedIn")
  cta2Url         String   @default("https://www.linkedin.com/in/mlourdesynigo/")
  
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

// Singleton model for Contact section content
model ContactSection {
  id              String   @id @default("contact_singleton")
  
  // Header
  eyebrow         String   @default("Contact")
  title           String   @default("Let's work together")
  description     String   @default("For collaborations, job opportunities or project enquiries, feel free to reach out by email or schedule a short call.")
  
  // Contact details
  email           String   @default("mlourdes.ynigo@example.com")
  location        String   @default("Queensland, Australia")
  availability    String   @default("Available for projects")
  
  // Calendar/scheduling
  calendlyUrl     String?
  
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

// Singleton model for Footer settings
model FooterSection {
  id              String       @id @default("footer_singleton")
  
  // Optional footer text
  copyrightText   String?
  
  // Social links (one-to-many)
  socialLinks     SocialLink[]
  
  createdAt       DateTime     @default(now())
  updatedAt       DateTime     @updatedAt
}

// Social media links for footer
model SocialLink {
  id              String         @id @default(cuid())
  footerId        String
  footer          FooterSection  @relation(fields: [footerId], references: [id], onDelete: Cascade)
  
  platform        String         // e.g., "instagram", "linkedin", "facebook"
  url             String
  order           Int            @default(0)
  isVisible       Boolean        @default(true)
  
  createdAt       DateTime       @default(now())
  
  @@index([footerId])
  @@index([footerId, order])
}
